<!DOCTYPE html>
<html>
  <head>
    <title>Animated "reduce" Walkthrough</title>
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"
    />
    <style>
      body {
        margin-top: 20px;
        width: 480px;
        margin: 0 auto;
        background-color: #e2e2e2;
      }

      h1 {
        font-size: 25px;
        font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande",
          "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
        text-align: center;
        margin-bottom: 40px;
        color: darkgray;
        text-shadow: 0 1px 0 #fff;
      }

      #root {
        border: 2px dashed lightgray;
        padding: 10px;
        background-color: #fff;
        box-shadow: 15px 15px 0px 0px #ccc;
      }

      .sourceLink {
        display: block;
        margin-top: 20px;
        font-size: 12px;
        font-family: monospace;
        color: darkgray;
        text-align: center;
        text-decoration: none;
      }
      .sourceLink:hover {
        color: gray;
        text-decoration: underline;
      }

      @media (max-width: 500px) {
        body {
          width: 98%;
        }

        svg {
          width: 98%;
        }
      }
    </style>
  </head>
  <body>
    <script src="main.js"></script>
    <h1>How <span style="color: slategray;">reduce</span> works?</h1>
    <div id="root">
      <svg width="480" height="250" viewBox="0 0 480 250">
        <g font-family="monospace" font-weight="100" font-size="16px">
          <g transform="translate(0, 20)">
            <text>
              const initValue =
              <tspan class="initial" fill="teal">0</tspan>
            </text>
          </g>
          <g transform="translate(0, 60)">
            <text>
              <tspan>const values = [</tspan>
              <tspan class="item" fill="teal">3</tspan>
              <tspan>,</tspan>
              <tspan class="item" fill="teal">5</tspan>
              <tspan>,</tspan>
              <tspan class="item" fill="teal">1</tspan>
              <tspan>,</tspan>
              <tspan class="item" fill="teal">4</tspan>
              <tspan>,</tspan>
              <tspan class="item" fill="teal">2</tspan>
              <tspan>]</tspan>
            </text>
          </g>
          <g transform="translate(0, 100)">
            <text>
              <tspan>const total = values.reduce((</tspan>
              <!-- Fixed width TSPAN hack - https://stackoverflow.com/a/42003489/1052356 -->
              <tspan
                class="accArg1"
                fill="skyblue"
                text-anchor="right"
                x="290"
                baseline-shift="0%"
                kerning="0"
              >
                acc
              </tspan>
              <tspan x="320" baseline-shift="0%">,</tspan>
              <tspan
                class="itemArg1"
                fill="skyblue"
                text-anchor="right"
                x="340"
                baseline-shift="0%"
                kerning="0"
              >
                item
              </tspan>
              <tspan>) => {</tspan>
            </text>
          </g>
          <g transform="translate(40, 160)">
            <text>
              <tspan>return</tspan>

              <tspan class="accEq">
                <tspan
                  class="accArg2"
                  fill="skyblue"
                  text-anchor="end"
                  x="110"
                  baseline-shift="0%"
                  kerning="0"
                >
                  acc
                </tspan>
                <tspan x="115" baseline-shift="0%">
                  +
                </tspan>
                <tspan
                  class="itemArg2"
                  fill="skyblue"
                  text-anchor="right"
                  x="135"
                  baseline-shift="0%"
                  kerning="0"
                >
                  item
                </tspan>
              </tspan>
              <tspan
                class="calculatedAcc"
                fill="tomato"
                font-size="32"
                font-weight="bold"
                x="115"
                style="visibility: hidden;"
              ></tspan>
            </text>
          </g>
          <g transform="translate(0, 220)">
            <text>
              }, initValue)
            </text>
          </g>
        </g>
      </svg>
    </div>
    <a
      class="sourceLink"
      href="https://github.com/vishaltelangre/animated-reduce-walkthrough"
    >
      View source code on GitHub
    </a>
  </body>
</html>
